<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<title>接口</title>
</head>
<body>
<pre>
后台代码：
git@github.com:changjiuxiong/test1.git

接口1：根据用户id获取联系人列表
请求参数：id ；类型: String
返回参数: friendsList  ; 类型：数组（数组元素类型：user)
实例:
http://118.24.34.244:8080/test1/selectFriendsByIdServlet?id=123

接口2：根据用户id获取群聊列表
请求参数：id；类型：string
返回参数：groupList; 类型：数组（数组元素类型：group）
实例:
http://118.24.34.244:8080/test1/SelectGroupsByIdServlet?id=123

接口3：根据用户id获取个人信息
请求参数：id；类型：string
返回参数：userInfo; 类型：对象user（用户表所有数据）
实例:
http://118.24.34.244:8080/test1/GetUserByIdServlet?id=同学2号

接口4：根据用户id获取聊天列表
请求参数：id；类型：string
返回参数：chatList；类型：数组（数组元素类型：user）
实例:
http://118.24.34.244:8080/test1/SelectChatListById?id=123

接口5：注册
请求参数：
id:：String，
name：String，
sex：String，
age：int，
password：String
返回参数：isOk：bool
实例:
http://118.24.34.244:8080/test1/InsertUser?id=user777&name=test&sex=男&age=22&password=123456

接口6：登录
请求参数：
id：String，
password：String
返回参数：isOk：bool
实例:
http://118.24.34.244:8080/test1/LoginServlet?id=123&password=123456

接口7：私聊发送消息
请求参数：
senderId：String，
receiverId：String，
content：String
返回参数：isOk：bool
实例:
http://118.24.34.244:8080/test1/sendMsgServlet?senderId='lcj'&receiverId='lzs'&content='你好'

接口8：根据用户id获取群聊聊天列表
请求参数：id；类型：string
返回参数：chatList；类型：数组（数组元素类型：group）
实例:
http://118.24.34.244:8080/test1/SelectGroupChatListById?id=123

接口9：添加好友申请
请求参数：
senderId：String，
receiverId：String
返回参数：isOk：bool
实例:
http://118.24.34.244:8080/test1/AddFriendApply?senderId=u123&receiverId=u456

接口10：根据用户id获取添加好友申请
请求参数：
id：String，
返回参数：userList；类型：数组（数组元素类型：user）
实例:
http://118.24.34.244:8080/test1/GetFriendApplyById?id=lcj

接口11：同意或拒绝好友申请
请求参数：
applyerId：String，（申请者）
userId：String，（审核者）
statue：String
返回参数：isOk：bool
实例:
http://118.24.34.244:8080/test1/UpdateFriendApply?applyerId=qwe&userId=lcj&statue=拒绝

接口12：根据id或name模糊查找用户
请求参数：
idOrName：String，
返回参数：userList；类型：数组（数组元素类型：user）
实例:
http://118.24.34.244:8080/test1/SelectUsersByIdOrName?idOrName=李

接口13：修改用户信息
请求参数：
id:：String，
name：String，
sex：String，
age：int
返回参数：isOk：bool
实例:
http://118.24.34.244:8080/test1/UpdateUser?id=qwe&name=拉拉&sex=女&age=77

接口14：判断是否是好友
请求参数：
id1:：String，
id2:：String，
返回参数：isOk：bool
实例:
http://118.24.34.244:8080/test1/IsFriend?id1=lcj&id2=lzs

接口15：创建群
请求参数：
id：String，
name：String，
masterId：String
返回参数：isOk：bool
实例:
http://118.24.34.244:8080/test1/AddGroup?id=g11&name=g999&masterId=lcj

接口16：拉人进群
请求参数：
groupId：String，
userIds：String，（JSON数组字符串）
返回参数：isOk：bool
实例:
var id = 'group001';
var obj = [{"id":"lcj"},{"id":"lulu"}];
var userIdsStr = JSON.stringify(obj);
$.ajax({
	url: 'http://118.24.34.244:8080/test1/AddUsersToGroup',
	type: 'GET',
	data : {groupId:id,userIds:userIdsStr},
	contentType: "application/x-www-form-urlencoded; charset=utf-8",
	success: function(res) {
	
	},
	error: function(xhr, type, errorThrown) {
		console.log(errorThrown);
	}
});

接口17：根据群id获取成员列表
请求参数：
groupId：String，
返回参数：userList；类型：数组（数组元素类型：user）
实例:
http://118.24.34.244:8080/test1/SelectUsersByGroupId?groupId=group001

接口18：删除好友
请求参数：
senderId：String，
receiverId：String
返回参数：isOk：bool
实例:
http://118.24.34.244:8080/test1/DeleteFriend?senderId=lulu&receiverId=lcj

接口19：退群
请求参数：
userId：String，
groupId：String
返回参数：isOk：bool
实例:
http://118.24.34.244:8080/test1/QuitGroup?userId=lulu&groupId=g11

接口20：根据2个用户id，查询最后20条聊天记录
请求参数：
id1：String，
id2：String，
返回参数：chartRecordList；类型：数组（数组元素类型：chartRecord）
实例:
http://118.24.34.244:8080/test1/GetLastMsgByTwoId?id1=lcj&id2=lzs

接口21：根据用户id，查询轨迹列表
请求参数：
userId：String，
返回参数：PathList；类型：数组（数组元素类型：Path）
实例:
http://118.24.34.244:8080/test1/GetPathListByUserId?userId=lcj

接口22：根据轨迹id，获取轨迹的起点和终点
请求参数：
id：String，
返回参数：PointList；类型：数组（数组元素类型：point）
实例:
http://118.24.34.244:8080/test1/GetStartAndEndById?id=120a6a4888474bd7822160a9e416135e

接口23：根据群id，查询最后20条聊天记录
请求参数：
groupId：String，
返回参数：groupChartRecordList；类型：数组（数组元素类型：GroupChartRecord）
实例:
http://118.24.34.244:8080/test1/GetLastGroupMsgById?groupId=group001

//上传群头像
function uploadHead(img){
	img.onload = function(){
		var myBlob = dataURLtoBlob(getBase64Image(img));			
		var form = new FormData();
		form.append('groupId',groupId);
		form.append('upload',myBlob,'head.jpg');//图片
		$.ajax({
			url:'http://118.24.34.244:8080/test1/UploadGroupHeadImg',
			type:'POST', 
			contentType:false,
			processData:false,
			data:form,
			success:function(data){
				console.log(data)
			}			
		});		
	}
}
</pre>
</body>
</html>